var _=Object.defineProperty;var J=(t,e,n)=>e in t?_(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var k=(t,e,n)=>(J(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();const h=Symbol("canvas");function E(t,e){t.style.transform=`translate(${e.x}px, ${e.y}px)`}const w=(t,e)=>t.querySelector(`[data-key="${e}"]`),a=(t,e,n,o=!1)=>{t==null||t.addEventListener(e,n,{passive:!1,once:o})},m=(t,e,n)=>t==null?void 0:t.removeEventListener(e,n),T=(t,e)=>({id:t.pointerId,pos:Q(t),shift:{x:e.data.position.x-t.clientX,y:e.data.position.y-t.clientY}}),Q=t=>({x:t.clientX,y:t.clientY}),X=(t,e)=>{const n=document.createElementNS("http://www.w3.org/2000/svg",t);return e&&n&&(n.innerHTML=e),n};function D(t,e){if(e.getAttribute("data-key")==="outer")return;const o=e.getBoundingClientRect(),i=o.width/2,r=t.clientX-o.x,s=t.clientY-o.y;return Math.sqrt(Math.pow(r-i,2)+Math.pow(s-i,2))<=i}const S=(t,...e)=>t==null?void 0:t.classList.add(...e),C=(t,e)=>t==null?void 0:t.classList.remove(e);function W(t){let e,n=0;for(const o of t.getElementsByTagName("tspan"))for(const i of ee(o.getBBox())){const r=Math.abs(i.x)+Math.abs(i.y);n<r&&(e=i,n=r)}return e}const ee=t=>[{x:t.x,y:t.y},{x:t.right,y:t.y},{x:t.x,y:t.bottom},{x:t.right,y:t.bottom}];function L(t,e,n){return n<=t?t:t+Math.ceil((n-t)/e)*e}function Y(t,e){const n=e/2;function o(i){const r=Math.round(i/e)*e;return i-r>0?r+n:r-n}t.x=o(t.x),t.y=o(t.y)}const te=t=>({x:t.clientX,y:t.clientY}),ne=(t,e,n)=>({x:(e-t.position.x)/t.scale,y:(n-t.position.y)/t.scale});function ie(t){var r,s;const e=(r=t[h])==null?void 0:r.data;let n;t.ownerSVGElement&&e&&(n=oe(t.ownerSVGElement,e));function o(){t.style.transform=`matrix(${e==null?void 0:e.scale}, 0, 0, ${e==null?void 0:e.scale},
                                 ${e==null?void 0:e.position.x}, ${e==null?void 0:e.position.y})`,n()}function i(l,c){if(!(l<.25||l>4)&&e){const u=l/(e==null?void 0:e.scale);e.scale=l,e.position.x=u*((e==null?void 0:e.position.x)-c.x)+c.x,e.position.y=u*((e==null?void 0:e.position.y)-c.y)+c.y,o()}}t.ownerSVGElement&&t[h]&&se(t.ownerSVGElement,t[h],i,o),(s=t.ownerSVGElement)==null||s.addEventListener("wheel",l=>{l.preventDefault();const c=l.deltaY||l.deltaX,u=Math.abs(c)<50?.05:.25;e&&i(e.scale+(c<0?u:-u),te(l))})}function oe(t,e){let n;function o(i){n!==i&&(n=i,t.style.backgroundImage=`radial-gradient(rgb(73 80 87 / ${i}) 1px, transparent 0)`)}return o(.7),t.style.backgroundSize=`${e.cell}px ${e.cell}px`,()=>{const i=e.cell*e.scale;e.scale<.5?o(0):e.scale<=.9?o(.3):o(.7),t.style.backgroundSize=`${i}px ${i}px`,t.style.backgroundPosition=`${e.position.x}px ${e.position.y}px`}}function se(t,e,n,o){let i,r;const s=c=>{var d,f,y,x;const u=e.data;u.position.x=c.clientX+((f=(d=i||r)==null?void 0:d.shift)==null?void 0:f.x),u.position.y=c.clientY+((x=(y=i||r)==null?void 0:y.shift)==null?void 0:x.y),o()},l=c=>{(i==null?void 0:i.id)===c.pointerId&&(i=null),(r==null?void 0:r.id)===c.pointerId&&(r=null),!i&&!r&&(m(t,"pointermove",s),m(t,"pointercancel",l),m(t,"pointerup",l))};a(t,"pointerdown",c=>{c.stopPropagation(),c instanceof PointerEvent&&t.setPointerCapture(c.pointerId),i||(a(t,"pointermove",s),a(t,"pointercancel",l),a(t,"pointerup",l)),i||(i=T(c,e)),r||(r=T(c,e))})}class Z extends HTMLElement{constructor(){super(...arguments);k(this,"canvas");k(this,"pressedShapeKey",null);k(this,"parentElem",null);k(this,"pointElem",null);k(this,"isNativePointerleaveTriggered",null)}connectedCallback(){const n=this.attachShadow({mode:"closed"});n.innerHTML=re();const o=n.getElementById("menu");o==null||o.querySelectorAll('[data-cmd="shapeAdd"]').forEach(i=>a(i,"pointerdown",this)),a(o,"pointerleave",this),a(o,"pointerup",this),a(o,"pointermove",this)}init(n){this.canvas=n}handleEvent(n){var o;switch(n.type){case"pointerleave":this.isNativePointerleaveTriggered=!0,this.pressedShapeKey!=null&&this.shapeCreate(n);break;case"pointermove":if(!this.isNativePointerleaveTriggered&&document.elementFromPoint(n.clientX,n.clientY)===this.pointElem)return;break;case"pointerdown":this.pressedShapeKey=parseInt((o=n.currentTarget)==null?void 0:o.getAttribute("data-cmd-arg")),this.parentElem=document.elementFromPoint(n.clientX,n.clientY),this.pointElem=this.parentElem,this.isNativePointerleaveTriggered=null;break;case"pointerup":this.pressedShapeKey!=null&&this.shapeCreate(n),this.clean();break}}shapeCreate(n){var r;const o=ne(this.canvas[h].data,n.clientX,n.clientY),i=this.setShapeSvg(this.canvas[h].data.scale,this.canvas[h].data.position.x,this.canvas[h].data.position.y);if(this.pressedShapeKey!=null){const{x:s,y:l}=o,c=this.pressedShapeKey===0?{s:{data:{dir:"right",position:{x:i==null?void 0:i.centerX,y:l}}},e:{data:{dir:"right",position:{x:i==null?void 0:i.centerX,y:l}}},position:{x:i==null?void 0:i.centerX,y:i==null?void 0:i.centerY}}:{type:this.pressedShapeKey,position:{x:i==null?void 0:i.centerX,y:i==null?void 0:i.centerY},title:"Title"},u=this.canvas[h].shapeMap(this.canvas)[this.pressedShapeKey].create(c);(r=this.canvas)==null||r.append(u.el)}}setShapeSvg(n,o,i){var l;const r=(l=this.canvas)==null?void 0:l.ownerSVGElement,s=r==null?void 0:r.getBoundingClientRect();if(s){const c=(s==null?void 0:s.left)+(s==null?void 0:s.width)/2,u=(s==null?void 0:s.top)+(s==null?void 0:s.height)/2,d=(c-o)*(1/n),f=(u-i)*(1/n);return{centerX:d,centerY:f}}}clean(){this.pressedShapeKey=null,this.parentElem=null,this.pointElem=null}}customElements.define("ap-menu-shape",Z);function re(){return`<style>
			.menu {
				overflow-x: auto;
				padding: 0;
				position: fixed;
				top: 50%;
				left: 5px;
				transform: translateY(-50%);
				box-shadow: 0 0 58px 2px rgba(34, 60, 80, 0.2);
				border-radius: 16px;
				background-color: rgba(255,255,255, .9);
				z-index: 10;
			}

			.content {
				white-space: nowrap;
				display: flex;
				flex-direction: column;
			}

			[data-cmd] {
				cursor: pointer;
			}

			.menu svg { padding: 10px; }
			.stroke {
				stroke: #344767;
				stroke-width: 2px;
				fill: transparent;
			}

			.menu .big {
				width: 62px;
				min-width: 62px;
			}

			</style>
			<div id="menu" class="menu" style="touch-action: none;">
				<div class="content">
					<svg class="stroke" data-cmd="shapeAdd" data-cmd-arg="1" viewBox="0 0 24 24" width="24" height="24">
						<circle r="9" cx="12" cy="12"></circle>
					</svg>
					<svg class="stroke" data-cmd="shapeAdd" data-cmd-arg="4" viewBox="0 0 24 24" width="24" height="24">
						<path d="M2 12 L12 2 L22 12 L12 22 Z" stroke-linejoin="round"></path>
					</svg>
					<svg class="stroke" data-cmd="shapeAdd" data-cmd-arg="2" viewBox="0 0 24 24" width="24" height="24">
						<rect x="2" y="4" width="20" height="16" rx="3" ry="3"></rect>
					</svg>
					<svg data-cmd="shapeAdd" data-cmd-arg="0" viewBox="0 0 24 24" width="24" height="24"><path fill="none" d="M0 0h24v24H0z"/>
						<path d="M13 8v8a3 3 0 0 1-3 3H7.83a3.001 3.001 0 1 1 0-2H10a1 1 0 0 0 1-1V8a3 3 0 0 1 3-3h3V2l5 4-5 4V7h-3a1 1 0 0 0-1 1z" fill="rgba(52,71,103,1)"/>
					</svg>
					<svg data-cmd="shapeAdd" data-cmd-arg="3" viewBox="0 0 24 24" width="24" height="24">
						<path fill="none" d="M0 0h24v24H0z"/><path d="M13 6v15h-2V6H5V4h14v2z" fill="rgba(52,71,103,1)"/>
					</svg>
				</div>
			</div>`}function le(t,e,n,o,i,r,s,l,c){let u=!1,d=!1,f;function y(p,g){p.stopPropagation(),u?s(p):(g.tagName==="path"||D(p,g))&&l(),$(!0)}function x(p){e.contains(p.target)||($(),c())}function b(p){d&&(!u&&(i(p),!d)||(de(o,n.scale,p),u=!0,r(p)))}function M(){$(),c()}function v(p){p.preventDefault(),p.stopPropagation(),!(p[K]||!p.isPrimary)&&(p[K]=!0,f=p.target,p.pointerId!==ce&&f.setPointerCapture(p.pointerId),a(f,"pointercancel",g=>y(g,f),!0),a(f,"pointerup",g=>y(g,f),!0),a(f,"pointermove",b),a(t,"pointerdown",x),a(t,"wheel",M,!0),d=!0)}a(e,"pointerdown",v);function $(p=!1){m(f,"pointercancel",g=>y(g,f)),m(f,"pointerup",g=>y(g,f)),m(f,"pointermove",b),p||m(t,"pointerdown",x),f=null,u=!1,d=!1}return $}const ce=42;function de(t,e,n){t.x+=n.movementX/e,t.y+=n.movementY/e}const K=Symbol("processed");function O(t,e,n){var i;const o=pe(n||"",((i=t.x.baseVal[0])==null?void 0:i.value)??0);t.innerHTML=o.s,t.y.baseVal[0].newValueSpecifiedUnits(t.y.baseVal[0].SVG_LENGTHTYPE_EMS,o.c>0?e-o.c/2:e)}function pe(t,e){let n=0;return{s:t.split(`
`).map((o,i)=>(n=i,`<tspan x=${e} dy="${i===0?.41:1}em" ${o.length===0?'visibiliti="hidden"':""}>${o.length===0?".":fe(o).replaceAll(" ","&nbsp;")}</tspan>`)).join(""),c:n}}function fe(t){return t.replaceAll("&","&amp;").replaceAll("<","&lt;").replaceAll(">","&gt;").replaceAll('"',"&quot;").replaceAll("'","&#039;")}function ue(t,e,n,o,i){let r=X("foreignObject");const s=document.createElement("textarea"),l=()=>ae(t,r,s,u,c.textAlign);s.value=n||"",s.oninput=function(){O(t,e,s.value),o(s.value),l()},s.onblur=function(){i(s.value)},s.onpointerdown=function(d){d.stopImmediatePropagation()},r.appendChild(s),t==null||t.parentElement.appendChild(r);const c=getComputedStyle(s),u=parseInt(c.paddingLeft)+parseInt(c.borderWidth);return l(),s.focus(),{dispose:()=>{r==null||r.remove(),r=null},draw:l}}function ae(t,e,n,o,i){const r=t.getBBox(),s=r.width+20;e.width.baseVal.value=s+2*o+2,e.x.baseVal.value=r.x-10-(i==="center"?10:i==="right"?20:0),e.height.baseVal.value=r.height+2*o+3,e.y.baseVal.value=r.y-o,n.style.width=`${s}px`,n.style.height=`${r.height}px`}const R=Symbol("shape");function U(t){t[h].selectClear&&t[h].selectClear()}function he(t,e){t[h].selectClear=e}function B(t,e,n,o,i){const r=X("g",`${n}
        ${Object.entries(o).map(c=>`<circle data-key="${c[0]}" data-connect="${c[1].dir}"
         class="hovertrack" data-evt-index="2" r="10" cx="0" cy="0"
         style="transform: translate(${c[1].position.x}px, ${c[1].position.y}px)"/>`).join("")}`);Y(e.position,t[h].data.cell);const s={el:w(r,"text"),vMid:0};O(s.el,s.vMid,e==null?void 0:e.title);const l=ye(t,r,e,o,s,()=>i(s.el));return{el:r,cons:o,draw:l.draw}}function ye(t,e,n,o,i,r){let s;function l(){s==null||s.dispose(),s=null}function c(d){n.title=d,r()}const u=me(t,e,n,o,()=>{s=ue(i.el,i.vMid,n.title,c,c)},l);return s&&s.draw(),e[R]=function(){u.del(),e.remove()},{draw:()=>{u.drawPosition(),s&&(s==null||s.draw())}}}function me(t,e,n,o,i,r){l(),S(e,"hovertrack");let s=0;function l(){e.style.transform=`translate(${n.position.x}px, ${n.position.y}px)`}function c(){r(),s=0,C(e,"select"),C(e,"highlight")}const u=le(t.ownerSVGElement,e,t[h].data,n.position,()=>{c()},l,()=>{Y(n.position,t[h].data.cell),l()},()=>{if(s!==2){if(s===0&&U(t),s===1){s=2,C(e,"select"),S(e,"highlight"),i();return}s=1,he(t,c),S(e,"select")}},c);return e[R]={drawPosition:l,data:n},{drawPosition:l,del:()=>{c(),u()}}}function xe(t,e){const o=B(t,e,`
	    <circle data-key="outer" data-evt-no data-evt-index="2" r="72" fill="transparent" stroke-width="0" />
		<circle data-key="main" r="48" fill="#ff6600" stroke="#fff" stroke-width="1" />
		<text data-key="text" x="0" y="0" text-anchor="middle" style="pointer-events: none;" fill="#fff">&nbsp;</text>`,{right:{dir:"right",position:{x:48,y:0}},left:{dir:"left",position:{x:-48,y:0}},bottom:{dir:"bottom",position:{x:0,y:48}},top:{dir:"top",position:{x:0,y:-48}}},r=>{const s=ge(r,48,24);s!==e.r&&(e.r=s,i())});function i(){o.cons.right.position.x=e.r,o.cons.left.position.x=e.r&&-e.r,o.cons.bottom.position.y=e.r,o.cons.top.position.y=e.r&&-e.r;for(const r in o.cons)E(w(o.el,r),o.cons[r].position);z(o.el,"outer",e.r&&e.r+24),z(o.el,"main",e.r),o.draw()}return o.draw(),o}function z(t,e,n){w(t,e).r.baseVal.value=n}function ge(t,e,n){const o=W(t);return L(e,n,Math.sqrt((o==null?void 0:o.x)**2+(o==null?void 0:o.y)**2))}function we(t,e){const o=B(t,e,`
		<path data-key="outer" data-evt-no data-evt-index="2" d="M-72 0 L0 -72 L72 0 L0 72 Z" stroke-width="0" fill="transparent" />
		<path data-key="border" d="M-39 0 L0 -39 L39 0 L0 39 Z" stroke-width="20" stroke="#fff"	fill="transparent" stroke-linejoin="round" />
		<path data-key="main" d="M-39 0 L0 -39 L39 0 L0 39 Z" stroke-width="18" stroke-linejoin="round"	stroke="#1D809F" fill="#1D809F" />
		<text data-key="text" x="0" y="0" text-anchor="middle" style="pointer-events: none;" fill="#fff">&nbsp;</text>`,{right:{dir:"right",position:{x:48,y:0}},left:{dir:"left",position:{x:-48,y:0}},bottom:{dir:"bottom",position:{x:0,y:48}},top:{dir:"top",position:{x:0,y:-48}}},r=>{const s=L(96,48,be(r));s!==e.w&&(e.w=s,i())});S(o.el,"shromb");function i(){const r=V(e.w,0);o.cons.right.position.x=r.r.x,o.cons.left.position.x=r.l.x,o.cons.bottom.position.y=r.b.y,o.cons.top.position.y=r.t.y;for(const l in o.cons)E(w(o.el,l),o.cons[l].position);const s=V(e.w,9);I(o.el,"main",s),I(o.el,"border",s),I(o.el,"outer",V(e.w,-24)),o.draw()}return o}function V(t,e){const n=t/2,o=e-n,i=n-e;return{l:{x:o,y:0},t:{x:0,y:o},r:{x:i,y:0},b:{x:0,y:i}}}function be(t){const e=W(t);return 2*(Math.abs(e==null?void 0:e.x)+Math.abs(e==null?void 0:e.y))}function I(t,e,n){w(t,e).setAttribute("d",`M${n.l.x} ${n.l.y} L${n.t.x} ${n.t.y} L${n.r.x} ${n.r.y} L${n.b.x} ${n.b.y} Z`)}function H(t,e){const o=B(t,e,`
		<rect data-key="outer" data-evt-no data-evt-index="2" width="144" height="96" x="-72" y="-48" fill="transparent" stroke="transparent" stroke-width="0" />
		<rect data-key="main" width="96" height="48" x="-48" y="-24" rx="15" ry="15" fill="#1aaee5" stroke="#fff" stroke-width="1" />
		<text data-key="text" y="0" x="0" text-anchor="middle" style="pointer-events: none;" fill="#fff">&nbsp;</text>`,{right:{dir:"right",position:{x:48,y:0}},left:{dir:"left",position:{x:-48,y:0}},bottom:{dir:"bottom",position:{x:0,y:24}},top:{dir:"top",position:{x:0,y:-24}}},r=>{const s=r==null?void 0:r.getBBox(),l=L(96,48,s.width+(e.t?6:0)),c=L(48,48,s.height);((e==null?void 0:e.w)!==l||(e==null?void 0:e.h)!==c)&&(e.w=l,e.h=c,i())});function i(){if(e.w&&e.h){const r=e.w/-2,s=e.h/-2;for(const l in o.cons)E(w(o.el,l),o.cons[l].position);N(o==null?void 0:o.el,"main",e.w,e.h,r,s),N(o==null?void 0:o.el,"outer",e.w&&e.w+48,e.h&&e.h+48,r-24,s-24)}}return S(o.el,e.t?"shtxt":"shrect"),o}function N(t,e,n,o,i,r){const s=w(t,e);s instanceof SVGRectElement&&(s.width.baseVal.value=n,s.height.baseVal.value=o,s.x.baseVal.value=i,s.y.baseVal.value=r)}function Se(t,e,n,o,i,r,s,l,c){let u=!1,d=!1,f;function y(p){p.stopPropagation(),d?s(p):l(),v(!0)}function x(p){e.contains(p.target)||(v(),c())}function b(p){u&&(d||i(p),$e(o,p),d=!0,r(p))}function M(){c()}function v(p=!1){m(f,"pointercancel",y),m(f,"pointerup",y),m(f,"pointermove",b),a(t,"pointerdown",x),p||(m(t,"pointerdown",x),m(t,"wheel",M)),d=!1,f=null,u=!1}function $(p){p.preventDefault(),p.stopPropagation(),f=p.target,a(f,"pointerup",y,!0),a(f,"pointermove",b),a(f,"pointercancel",y,!0),u=!0}return a(e,"pointerdown",$),v}function $e(t,e){t.x=e.clientX,t.y=e.clientY}function ke(t,e){var u;const n=X("g",`
	<path data-key="outer" d="M 0 0" stroke="transparent" stroke="#495057" stroke-width="20" fill="none"></path>
		<path data-key="path" class="path" d="M0 0" stroke="#495057" stroke-width="1.8" fill="none" style="pointer-events:none"></path>
		<path data-key="selected" d="M0 0" stroke="transparent" stroke-width="10" fill="none" style="pointer-events:none"></path>
	<g data-key="start">
	    <circle data-evt-index="1" class="path-end" r="10" stroke-width="0" fill="transparent"></circle>
	    <path class="path arr" d="M 0 0 -8 -4 -8 4 z" stroke="#495057" stroke-width="1.8" fill="#495057" style="pointer-events:none">
		</path>
	</g>
    <g data-key="end">
		<circle data-evt-index="1" class="path-end" r="10" stroke-width="0" fill="transparent"></circle>
		<path class="path arr" d="M 0 0 -8 -4 -8 4 z" stroke="#495057" stroke-width="1.8" fill="#495057" style="pointer-events:none"></path>
	</g>`);S(n,"shpath"),e.s.el=w(n,"start"),e.e.el=w(n,"end"),e.styles=e.styles??["arw-e"];const o=q(n,"path","outer","selected");for(const d of o){const f=e.position.x+(e.position.x-e.position.y)*.01,y=e.position.y,x=e.position.x-(e.position.x-e.position.y)*.4,b=e.position.y,M=`M
											${e.position.x} ${e.position.y}
										C
											${f} ${y},
											${x} ${b},
											${e.position.x} ${e.position.y}
		`;d==null||d.setAttribute("d",M)}Me(e),Y(e.position,(u=t[h])==null?void 0:u.data.cell);function i(){if(!e.s.shape||!e.e.shape){const f=Pe(e.s.data.position,e.e.data.position);e.e.shape||(e.e.data.dir=f),e.s.shape||(e.s.data.dir=Ce(f))}const d=ve(e);s.forEach(f=>f.setAttribute("d",d)),F(e.s),F(e.e)}function r(){c=0,j(e.s,1),j(e.e,1),C(n,"select")}const s=q(n,"path","outer","selected");let l=null,c=0;return Se(t.ownerSVGElement,n,t[h].data,{get x(){var d;return(d=e[l])==null?void 0:d.data.position.x},set x(d){l&&(e[l].data.position.x=d)},get y(){var d;return(d=e[l])==null?void 0:d.data.position.y},set y(d){l&&(e[l].data.position.y=d)}},d=>{r(),l=e.s.el.contains(d.target)?"s":e.e.el.contains(d.target)?"e":null},()=>{if(l)i();else return},()=>{console.log("moveEnd")},()=>{c!==2&&(c===1&&(c=2),c=1,S(n,"select"))},()=>{r()}),{el:n}}function j(t,e){t.el.firstElementChild.setAttribute("data-evt-index",e.toString())}const q=(t,...e)=>e.map(n=>w(t,n));function Me(t){t.s.el.style.transform=`translate(${t.position.x-70}px, ${t.position.y}px)`,t.e.el.style.transform=`translate(${t.position.x}px, ${t.position.y}px)`}function ve(t){let e=Math.hypot(t.s.data.position.x-t.e.data.position.x,t.s.data.position.y-t.e.data.position.y)*.5;e=e>70?70:e<15?15:e;function n(i){return console.log(i),i.dir==="right"||i.dir==="left"?i.dir==="right"?i.position.x+e:i.position.x-e:i.position.x}function o(i){return i.dir==="right"||i.dir==="left"?i.position.y:i.dir==="bottom"?i.position.y+e:i.position.y-e}return`M ${t.s.data.position.x} ${t.s.data.position.y} C ${n(t.s.data)} ${o(t.s.data)}, ${n(t.e.data)} ${o(t.e.data)}, ${t.e.data.position.x} ${t.e.data.position.y}`}function F(t){t.el.style.transform=`translate(${t.data.position.x}px, ${t.data.position.y}px) rotate(${Le(t.data.dir)}deg`}const P=(t,e,n)=>e<=t&&t<=n;function Pe(t,e){const n=Math.atan2(e.y-t.y,e.x-t.x);return P(n,-.8,.8)?"left":P(n,.8,2.4)?"top":P(n,2.4,3.2)||P(n,-3.2,-2.4)?"right":"bottom"}const Ce=t=>t==="left"?"right":t==="right"?"left":t==="top"?"bottom":"top",Le=t=>t==="right"?180:t==="left"?0:t==="bottom"?270:90;function Ae(t){return{0:{create:e=>ke(t,e)},1:{create:e=>xe(t,e)},3:{create:e=>H(t,{...e,t:e.t??!0})},4:{create:e=>we(t,e)},2:{create:e=>H(t,e)}}}function Ve(t){const e=t.ownerSVGElement;a(e,"pointerdown",()=>{U(t)})}const A=document.getElementById("canvas"),G=document.getElementById("menu-shape");G instanceof Z&&G.init(A);A[h]={data:{position:{y:0,x:0},scale:1,cell:24},isTouched:!1,shapeMap:Ae};ie(A);Ve(A);
